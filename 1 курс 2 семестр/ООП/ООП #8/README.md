Валинуров Ринат Наилевич

РИС-23-1б

# 7 Вариант задания

## Программа, управляемая событиями

Лабораторная работа №8 - Классы.

Базовый класс:
ЧЕЛОВЕК (Person)
Имя - string
Возраст - int
Производный класс
СТУДЕНТ (Student)
Рейтинг - float
Группа - Список (List).
Команды:
- Создать группу
- Добавить элемент в группу
- Удалить элемент из группы
- Вывести информацию об элементах группы
- Вывести информацию об элементе группы
- Конец работы
## Код программы

>student.h
```C++
#pragma once

#include <string>

#include "Person.h"

class Student :

      public Person

{

public:

      Student(void);

      ~Student(void);

      Student(string, int, int, string);

      Student(const Student&);

      void Set_Point(int);

      void Input();

      void Show();

      Student& operator=(const Student&);

protected:

      int wage;

};
```

>List.h
```C++
#pragma once
#include "object.h"
#include <string>
#include <iostream>

using namespace std;
class List
{
public:
	List(int);
	List();
	~List(void);

	void Add();
	void Del();
	void Show();
	void Name();
	int operator()();
	virtual void HandleEvent(const TEvent& e);

protected:
	Object** beg;
	int size;
	int cur;
}
```

>Person.h
```C++
#pragma once
#include <string>
#include <iostream>
#include "object.h"
#include "Event.h"
using namespace std;
class Person :
	public Object
{
public:
	Person(void);

public:
	virtual ~Person(void);
	Person(string, int);
	Person(const Person&);

	string GetName() { return name; }
	int GetAge() { return age; }

	void Set_Name(string);
	void Set_Age(int);
	void Input();
	void Show();

	Person& operator=(const Person&);
	void HandleEvent(const TEvent& e);

protected:
	string name;
	int age;
};
```

>8.cpp
```C++
#include <iostream>

#include "Dialog.h"

using namespace std;

void main()

{

    Dialog D;

    D.Execute();

}
```
# UML

<image src="8.png">

# Пример работы

```
Enter command: m3
Enter size of group:
2
Enter commans: s
Empty
Enter command: +
1 . Person
2 . Emloyee
1

Name: snsf

Age: 43
Enter command: s

Name : snsf
Age : 43
Enter command:
```

# Вопросы

1. Что такое класс-группа? Привести примеры таких классов.

- Класс-группа - это группа объектов, которые имеют общие свойства или методы. Примерами таких классов могут быть классы автомобилей (с общими свойствами типа двигателя, количества колес и т. д.), классы животных (с общими свойствами типа питания, характера и т. д.) и т. д.

2. Привести пример описания класса-группы Список (List).

- ```c
    class List {
    private:
        int* array;
        int size;
    public:
        List();  // конструктор без параметров
        List(int);  // конструктор с параметром (выделяет память под массив указанного размера)
        List(const List&);  // конструктор копирования
        ~List();  // деструктор
        void viewElements();  // метод для просмотра элементов
    };
    ```
    

3. Привести пример конструктора (с параметром, без параметров, копирования) для класса-группы Список.

- ```c
    List() - конструктор без параметров
    List(int) - конструктор с параметром (выделяет память под массив указанного размера)
    List(const List&) - конструктор копирования
    ```
    

4. Привести пример деструктора для класса-группы Список.

- ```c
    List::~List() {
    delete [] array;
    }
    ```
    

5. Привести пример метода для просмотра элементов для класса-группы Список.

- ```c
    void List::viewElements() {
    for (int i = 0; i < size; i++) {
        cout << array[i] << " ";
    }
    cout << endl;
    }
    ```
    

6. Какой вид иерархии дает группа?

- Группа дает вид иерархии их сотрудничества и взаимодействия между участниками.

7. Почему во главе иерархии классов, содержащихся в группе объектов должен находиться абстрактный класс?

- Абстрактный класс находится во главе иерархии, чтобы определить общие свойства и методы для всех классов в данной иерархии, обеспечивая единообразие и структуру.

8. Что такое событие? Для чего используются события?

- Событие – это происшествие или изменение состояния, которое может быть обработано программой. События используются для сигнализации о каких-либо ситуациях или действиях, например, нажатие кнопки, изменение данных и т.д.

9. Какие характеристики должно иметь событие-сообщение?

- Событие-сообщение должно иметь описательное название, точное время и место происшествия, предоставлять достаточную информацию для понимания ситуации и быть доступным для обработки или реагирования.

10. Привести пример структуры, описывающей событие.

- ```c
    struct Event {
        string name;
        string location;
        string date;
        string description;
        int maxAttendees;
        bool isCancelled;
    };
    
    // Пример использования:
    Event concert;
    concert.name = "Rock Festival";
    concert.location = "Central Park";
    concert.date = "October 15, 2022";
    concert.description = "A day full of rock music and fun activities";
    concert.maxAttendees = 5000;
    concert.isCancelled = false;
    ```
    

11. Задана структура события. Какие значения, и в каких случаях присваиваются полю what?

```c
struct TEvent
{
	int what;
	union
	{
		MouseEventType mouse;
		KeyDownEvent keyDown;
		MessageEvent message;
	}
};
```

- В данной структуре поле "what" предназначено для указания типа события. Значения, которые могут быть присвоены полю "what", зависят от того, какое событие произошло. Например, если произошло событие с мышью(mouse event), то полю "what" может быть присвоено значение, индицирующее это событие; если произошло событие нажатия клавиши(key down event), то полю "what" будет присвоено соответствующее значение для этого события. Таким образом, значение поля "what" будет зависеть от типа события, которое произошло.

12. Задана структура события. Какие значения, и в каких случаях присваиваются полю command?

```c
struct TEvent
{
	int what; // тип события
	union
	{
		int command; // код комманды
		struct // параметры команды
		{
			int message;
			int a;
		};
	};
};
```

- Поле command присваивается в случае, когда тип события (поле what) указывает на то, что это командное событие. В этом случае поле command содержит код команды, который указывает, какая именно команда должна быть выполнена.

13. Задана структура события. Для чего используются поля a и message?

```c
struct TEvent
{
	int what; // тип события
	union
	{
		int command; // код комманды
		struct // параметры команды
		{
			int message;
			int a;
		};
	};
};
```

- Поля message и a используются как параметры команды. Когда тип события указывает на то, что это командное событие, поля message и a используются для передачи информации, необходимой для выполнения конкретной команды. Например, если команда - это отправка сообщения, то поле message может содержать ID сообщения, а поле a может содержать дополнительные данные для этого сообщения.

14. Какие методы необходимы для организации обработки сообщений?

- Для организации обработки сообщений необходимы методы для создания, отправки, обработки и удаления сообщений. Эти методы могут включать в себя функции для создания сообщения, передачи сообщения в очередь сообщений, обработки сообщений в главном цикле обработки событий и очистки обработанных сообщений.

15. Какой вид имеет главный цикл обработки событий-сообщений?

- Главный цикл обработки событий-сообщений обычно имеет вид бесконечного цикла, в котором происходит постоянная проверка наличия новых сообщений в очереди сообщений и их обработка.

16. Какую функцию выполняет метод ClearEvent()? Каким образом?

- Метод ClearEvent() выполняет функцию очистки обработанных сообщений из очереди сообщений. Он удаляет сообщение из очереди после его обработки.

17. Какую функцию выполняет метод HandleEvent()? Каким образом?

- Метод HandleEvent() выполняет функцию обработки полученных сообщений из очереди сообщений. Этот метод может содержать логику обработки различных типов сообщений и выполнение соответствующих действий.

18. Какую функцию выполняет метод GetEvent()?

- Метод GetEvent() выполняет функцию получения нового сообщения из очереди сообщений для последующей обработки. Он извлекает сообщение из очереди и возвращает его для обработки.

19. Для чего используется поле EndState? Какой класс (объект) содержит это поле?

- Поле EndState используется для определения конечного состояния объекта или процесса. Это поле может содержаться в классе, отвечающем за управление состоянием приложения, и используется для определения, когда приложение достигло своего конечного состояния.

20. Для чего используется функция Valid()?

- Функция Valid() обычно используется для проверки корректности или валидности данных, введенных пользователем или полученных из другого источника. Она может содержать логику для проверки данных на соответствие определенным условиям или критериям и возвращать булево значение (true или false) в зависимости от результата проверки.